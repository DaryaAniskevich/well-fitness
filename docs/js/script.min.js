const modal=(e,t,a)=>{t.forEach(t=>{t.addEventListener("click",()=>{e.classList.add("modal_active")})}),a.addEventListener("click",()=>{e.classList.remove("modal_active")}),e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&e.classList.remove("modal_active")})},chooseCity=()=>{const e=document.querySelectorAll(".city-btn"),t=document.querySelector(".modal-city"),a=t.querySelector(".modal-city-content-button"),c=t.querySelector(".modal-city-content-form-button"),s=t.querySelector(".modal-city-content-form__input"),o=document.querySelector(".header-city__item");modal(t,e,a),c.addEventListener("click",e=>{e.preventDefault(),s.value.trim()&&(o.textContent=s.value,t.classList.remove("modal_active"),s.value="")})};chooseCity();const phoneModal=()=>{const e=document.querySelector(".header-phone-choosen"),t=document.querySelector(".header-phone-open"),a=document.querySelectorAll(".header-phone-open__item");e.addEventListener("click",()=>{t.classList.remove("hide")}),a.forEach(a=>{a.addEventListener("click",()=>{console.log(),t.classList.add("hide"),e.querySelector(".header-phone-choosen__item").innerHTML=`<span class="header-phone-choosen__item_white">${a.children[0].dataset.phone}</span> ${a.children[1].dataset.city}`})})};phoneModal();const callRequest=()=>{const e="rgba(144,156,181,.5)",t=document.querySelectorAll(".callBack-btn"),a=document.querySelector(".modal-call"),c=a.querySelector(".modal-call-content-button"),s=a.querySelector(".modal-call-content-form__button"),o=a.querySelectorAll(".modal-call-content-form__input"),r=document.querySelector(".modal-call-content-form-text_success"),n=document.querySelector(".modal-call-content-form__error");modal(a,t,c);let l=!0,d=!0;const i=t=>{t.forEach(t=>{t.style.borderColor=e,n.classList.add("hide"),"name"===t.name?(t.addEventListener("click",()=>{t.style.borderColor=e}),(e=>{e.value.trim().length<=1&&(e.style.borderColor="#f53b49",l=!1)})(t)):"phone"===t.name&&(t.addEventListener("click",()=>{t.style.borderColor=e,n.classList.add("hide")}),(e=>{/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e.value)||(e.style.borderColor="#f53b49",n.classList.remove("hide"),d=!1)})(t))})};s.addEventListener("click",e=>{e.preventDefault(),i(o),l&&d&&(o.forEach(e=>e.value=""),r.classList.remove("hide"),setTimeout(()=>{a.classList.remove("modal_active"),r.classList.add("hide")},5e3)),l=!0,d=!0})};callRequest();const catalogModal=()=>{const e="hide",t="modal-catalog-type__item_active",a=document.querySelector(".header-navigation-catalog__button"),c=document.querySelector(".modal-catalog"),s=document.querySelector(".search"),o=c.querySelector(".modal-wrapper"),r=document.querySelectorAll(".header-menu-item"),n=document.querySelector(".modal-catalog-category-home"),l=document.querySelector(".modal-catalog-category-clubs"),d=document.querySelector(".modal-catalog-type__item_home"),i=document.querySelector(".modal-catalog-type__item_clubs");document.querySelector(".modal-catalog-category-name__item");a.addEventListener("click",()=>{s.classList.add(e),l.classList.add(e),n.classList.remove(e),c.classList.toggle("modal_active")}),r.forEach(a=>{a.addEventListener("click",a=>{"home"===a.target.dataset.category?(l.classList.add(e),n.classList.remove(e),d.classList.add(t),i.classList.remove(t)):"clubs"===a.target.dataset.category&&(n.classList.add(e),l.classList.remove(e),i.classList.add(t),d.classList.remove(t)),c.classList.add("modal_active")})}),d.addEventListener("click",()=>{n.classList.remove(e),l.classList.add(e),d.classList.add(t),i.classList.remove(t)}),i.addEventListener("click",()=>{l.classList.remove(e),n.classList.add(e),i.classList.add(t),d.classList.remove(t)}),o.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&c.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{c.classList.contains("modal_active")&&pageYOffset>c.offsetHeight-50&&c.classList.remove("modal_active")})};catalogModal();const search=()=>{const e=document.querySelectorAll(".search-btn"),t=document.querySelector(".search"),a=t.querySelector(".search-form-button");e.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("modal_active")})}),a.addEventListener("click",()=>{t.classList.remove("modal_active")}),t.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&t.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{t.classList.contains("modal_active")&&pageYOffset>t.offsetHeight-50&&t.classList.remove("modal_active")})};search();const tabs=()=>{const e=document.querySelector(".header-navigation-buttons-item_cart"),t=document.querySelector(".header-navigation-buttons-item__img_cart"),a=document.querySelector(".modal-cart"),c=document.querySelector(".header-navigation-buttons-item_comparison"),s=document.querySelector(".header-navigation-buttons-item__img_comparison"),o=document.querySelector(".modal-comparison"),r=document.querySelector(".header-navigation-buttons-item_favorite"),n=document.querySelector(".header-navigation-buttons-item__img_favorite"),l=document.querySelector(".modal-favorite");e.addEventListener("click",()=>{t.classList.toggle("header-navigation-buttons-item__img_active"),a.classList.toggle("modal_active")}),c.addEventListener("click",()=>{s.classList.toggle("header-navigation-buttons-item__img_active"),o.classList.toggle("modal_active")}),r.addEventListener("click",()=>{n.classList.toggle("header-navigation-buttons-item__img_active"),l.classList.toggle("modal_active")});((...e)=>{e.forEach(e=>{e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&(e.classList.remove("modal_active"),document.querySelectorAll(".header-navigation-buttons-item__img_active").forEach(e=>{e.classList.remove("header-navigation-buttons-item__img_active")}))})})})(l,a,o)};tabs();const cart=()=>{},comparison=()=>{},favorite=()=>{},menu=()=>{const e="hide",t=document.querySelector(".header-top-menu"),a=document.querySelector(".menu"),c=a.querySelectorAll(".menu-close"),s=document.querySelector(".search"),o=a.querySelector("#home-catalog"),r=a.querySelector("#clubs-catalog"),n=a.querySelector(".menu-home"),l=a.querySelector(".menu-clubs"),d=a.querySelector(".menu-main"),i=a.querySelectorAll(".button-back");t.addEventListener("click",()=>{s.classList.contains(e)||s.classList.add(e),d.classList.remove(e),a.classList.remove(e)}),c.forEach(t=>{t.addEventListener("click",()=>{n.classList.contains(e)||n.classList.add(e),l.classList.contains(e)||l.classList.add(e),a.classList.add(e)})}),o.addEventListener("click",()=>{d.classList.add(e),n.classList.remove(e)}),r.addEventListener("click",()=>{d.classList.add(e),l.classList.remove(e)}),i.forEach(t=>{t.addEventListener("click",()=>{"home"===t.dataset.back&&n.classList.add(e),"clubs"===t.dataset.back&&l.classList.add(e),d.classList.remove(e)})})};menu();const sign=()=>{const e="#f53b49",t="rgba(144,156,181,.3)",a="hide",c=document.querySelectorAll(".sign-block__button"),s=document.querySelector(".sign"),o=s.querySelector(".modal-button"),r=s.querySelector(".sign-in"),n=s.querySelector(".sign-form__button_signin"),l=s.querySelector(".sign-form__button_password"),d=s.querySelector(".restore-password"),i=s.querySelector(".sign-form__button_restore"),m=s.querySelector(".sign-form__input[type='password']"),u=s.querySelector(".sign-form__input[type='email']"),_=s.querySelector(".sign-form__input_restore"),g=s.querySelector(".sign-form__button_show-pswd"),h=s.querySelector(".sign__error");modal(s,c,o);c.forEach(e=>{e.addEventListener("click",()=>{((...e)=>{e.forEach(e=>{e.value="",e.style.borderColor=t})})(u,_,m),h.classList.add(a),r.classList.contains(a)&&(r.classList.remove(a),d.classList.add(a))})}),l.addEventListener("click",e=>{e.preventDefault(),d.classList.remove(a),r.classList.add(a)});const y=e=>/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(String(e).toLowerCase());n.addEventListener("click",t=>{t.preventDefault(),y(u.value)||(u.style.borderColor=e),(e=>/^\D.*$/.test(e)&&/^[^-() /]*$/.test(e)&&/^.*[a-zA-Z]+.*$/.test(e)&&/^[\S]$/)(m.value)||(m.style.borderColor=e),h.classList.remove(a)}),i.addEventListener("click",t=>{t.preventDefault(),y(_.value)||(_.style.borderColor=e),h.classList.remove(a)}),m.addEventListener("click",()=>m.style.borderColor=t),u.addEventListener("click",()=>u.style.borderColor=t),_.addEventListener("click",()=>_.style.borderColor=t),g.addEventListener("click",e=>{var t;e.preventDefault(),"password"===(t=m).type?t.type="text":t.type="password"})};sign();const sliderBanner=()=>{const e=document.querySelectorAll(".banner-content"),t=document.querySelector(".banner-wrapper"),a=document.querySelector(".banner-buttons__item_prev"),c=document.querySelector(".banner-buttons__item_next"),s=document.querySelector(".banner-pagination"),o=document.querySelectorAll(".banner-pagination__item");let r,n=0;const l=e=>{t.style.transform=`translate(-${e*r}px)`},d=()=>{r=document.querySelector(".banner-container").offsetWidth,t.style.width=r*e.length+"px",e.forEach(e=>{e.style.maxWidth="1800px",e.style.width=r+"px"})};d();const i=()=>{o.forEach(e=>{e.id==n?e.classList.add("banner-pagination__item_active"):e.classList.remove("banner-pagination__item_active")})};window.addEventListener("resize",()=>{d()});const m=setInterval(()=>{n++,n>=e.length&&(n=0),i(),l(n)},5e3);c.addEventListener("click",()=>{clearInterval(m),n++,n>=e.length&&(n=0),l(n)}),a.addEventListener("click",()=>{clearInterval(m),n--,n<0&&(n=e.length-1),l(n)}),e.forEach(e=>{e.addEventListener("click",()=>clearInterval(m))});let u=null,_=null;t.addEventListener("touchstart",e=>{const t=e.touches[0];u=t.clientX,_=t.clientY},!1),t.addEventListener("touchmove",t=>{if(!u||!_)return!1;let a=t.touches[0].clientX,c=t.touches[0].clientY,s=a-u,o=c-_;Math.abs(s)>Math.abs(o)&&(clearInterval(m),s>0?(n--,n<=0&&(n=0)):(n++,n>=e.length&&(n=0)),i(),l(n)),u=null,_=null},!1),s.addEventListener("click",e=>{e.target.classList.contains("banner-pagination__item")&&(o.forEach(t=>{e.target.id==t.id?(n=t.id,t.classList.add("banner-pagination__item_active")):t.classList.remove("banner-pagination__item_active")}),l(n))})};sliderBanner();const home=()=>{const e=document.querySelector(".home-cards");fetch("https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/category/home.json").then(e=>e.json()).then(t=>(t=>{t.forEach(t=>{const{id:a,title:c,href:s,img:o}=t,r=document.createElement("div");r.setAttribute("data-href",s),r.classList.add("home-cards__item","category-card"),r.innerHTML=`<h3 class="category-card__heading">${c}</h3>\n      <img src="./images/db/${o}" alt="${c}" class="category-card__img"/>`,r.addEventListener("click",()=>{window.location.href=r.dataset.href}),e.append(r)});document.querySelectorAll(".home-cards__item").forEach((e,t)=>{0!==t&&1!==t||(e.classList.add("category-card_hight"),e.querySelector(".category-card__img").classList.add("category-card__img_height")),0===t&&(e.classList.add("category-card_dark"),e.classList.add("home-cards__item_one"),e.querySelector(".category-card__heading").classList.add("category-card__heading_white")),1===t&&(e.classList.add("home-cards__item_two"),e.querySelector(".category-card__heading").classList.add("category-card__heading_gray"))})})(t))};home();const clubs=()=>{const e=document.querySelector(".clubs-cards");fetch("https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/category/club.json").then(e=>e.json()).then(t=>(t=>{t.forEach(t=>{const{id:a,title:c,href:s,img:o}=t,r=document.createElement("div");r.classList.add("clubs-cards__item","category-card"),r.setAttribute("data-href",s),r.innerHTML=`<h3 class="category-card__heading">${c}</h3>\n      <img src="./images/db/${o}" alt="${c}" class="category-card__img"/>`,r.addEventListener("click",()=>{window.location.href=r.dataset.href}),e.append(r)});document.querySelectorAll(".clubs-cards__item").forEach((e,t)=>{0===t&&(e.classList.add("category-card_wide","clubs-cards__item_one","category-card_dark"),e.querySelector(".category-card__img").classList.add("category-card__img_wide"),e.querySelector(".category-card__heading").classList.add("category-card__heading_white")),0!==t&&(e.classList.add("category-card_square"),e.querySelector(".category-card__img").classList.add("category-card__img_square")),e.querySelector("h3").classList.add("category-card__heading_wide")})})(t))};clubs();const brands=()=>{const e=document.querySelector(".brands-cards"),t=document.querySelectorAll(".brands-buttons__item");let a="all";const c=t=>{fetch(`https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/brands/${t}.json`).then(e=>e.json()).then(t=>{t.forEach(t=>{const{id:a,name:c,img:s,href:o}=t,r=document.createElement("div");r.classList.add("brands-cards-item"),r.setAttribute("data-href",o),r.innerHTML=`  <img src="./images/db/${s}" alt="${c}" class="brands-cards-item__img" />`,r.addEventListener("click",()=>{window.location.href=r.dataset.href}),e.append(r)})})};t.forEach((s,o)=>{s.addEventListener("click",()=>{t.forEach(e=>{e.classList.remove("brands-buttons__item_active")}),e.innerHTML="",s.classList.add("brands-buttons__item_active"),a=s.dataset.brand,c(a)})}),c("all")};brands();const news=()=>{const e=document.querySelector(".news-cards");fetch("https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/news.json").then(e=>e.json()).then(t=>{t.forEach(t=>{const{id:a,href:c,img:s,title:o,description:r,date:n}=t,l=document.createElement("div");l.classList.add("news-cards__item","news-card"),l.setAttribute("data-href",c),l.innerHTML=`<img src="./images/db/${s}" alt="${o}" class="news-card__img" />\n    <div class="news-card-content">\n      <h4 class="news-card__heading">\n        ${o}\n      </h4>\n      <p class="news-card__paragraf">\n        ${r}\n      </p>\n      <p class="news-card__paragraf news-card__paragraf_light">\n        ${n}\n      </p>\n      </div>`,l.addEventListener("click",()=>{window.location.href=l.dataset.href}),e.append(l)})})};news();const catalogRender=(e,t)=>{const a="modal-catalog-category-name__item_active",c=[];(e=>{e.forEach(e=>{c.includes(e.category)||c.push(e.category)})})(e);const s=(e,t,a,c)=>{e.innerHTML+=`\n      <div class="modal-catalog-category-subcategory-item" data-href=${a}>\n        <img\n          src="./images/db/${c}"\n          alt="${t}"\n          class="modal-catalog-category-subcategory-item__img"\n        />\n        <div class="modal-catalog-category-subcategory-item__title">\n         ${t}\n        </div>\n      </div>\n    `,e.querySelectorAll(".modal-catalog-category-subcategory-item").forEach(e=>{e.addEventListener("click",()=>{window.location.href=e.dataset.href})})};(e=>{const o=document.createElement("div");o.classList.add("modal-catalog-category-container"),(e=>{const t=document.createElement("div");t.classList.add("modal-catalog-category-name"),c.forEach(a=>{t.innerHTML+=`<div\n        class="\n          modal-catalog-category-name__item\n        " data-category="${a}"\n      >\n        ${a}\n        <span class="modal-catalog-category-name__item_arrow">\n          &#8594;</span\n        >\n      </div>`,e.append(t)})})(o);const r=document.createElement("div");r.classList.add("modal-catalog-category-subcategory"),o.append(r),t.append(o);const n=t.querySelectorAll(".modal-catalog-category-name__item");console.log(n),n.forEach(e=>{e.addEventListener("click",()=>{t.querySelector(".modal-catalog-category-subcategory").innerHTML=""})}),e.forEach(e=>{const{id:o,category:n,subcategory:l,href:d,img:i}=e;n===c[0]&&s(r,l,d,i);(e=>{const t=e.querySelectorAll(".modal-catalog-category-name__item");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>{e.classList.remove(a)}),e.classList.add(a),e.dataset.category===n&&s(r,l,d,i)})})})(t)}),n[0].classList.add(a)})(e)},catalogHome=()=>{const e=document.querySelector(".modal-catalog-category-home");fetch("https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/catalog/home.json").then(e=>e.json()).then(t=>{catalogRender(t,e)})};catalogHome();const catalogClubs=()=>{const e=document.querySelector(".modal-catalog-category-clubs");fetch("https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/catalog/club.json").then(e=>e.json()).then(t=>{catalogRender(t,e)})};catalogClubs();