const modal=(e,t,c)=>{t.addEventListener("click",()=>{e.classList.add("modal_active")}),c.addEventListener("click",()=>{e.classList.remove("modal_active")}),e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&e.classList.remove("modal_active")})},chooseCity=()=>{const e=document.querySelector(".header-city"),t=document.querySelector(".modal-city"),c=t.querySelector(".modal-city-content-button"),o=t.querySelector(".modal-city-content-form-button"),a=t.querySelector(".modal-city-content-form__input"),r=document.querySelector(".header-city__item");modal(t,e,c),o.addEventListener("click",e=>{e.preventDefault(),a.value.trim()&&(r.textContent=a.value,t.classList.remove("modal_active"),a.value="")})};chooseCity();const phoneModal=()=>{const e=document.querySelector(".header-phone-choosen"),t=document.querySelector(".header-phone-open"),c=document.querySelectorAll(".header-phone-open__item");e.addEventListener("click",()=>{t.classList.remove("hide")}),c.forEach(c=>{c.addEventListener("click",()=>{console.log(),t.classList.add("hide"),e.querySelector(".header-phone-choosen__item").innerHTML=`<span class="header-phone-choosen__item_white">${c.children[0].dataset.phone}</span> ${c.children[1].dataset.city}`})})};phoneModal();const callback=()=>{const e=document.querySelector(".header-phone__button"),t=document.querySelector(".footer-contacts-block__button"),c=document.querySelector(".modal-call"),o=c.querySelector(".modal-call-content-button"),a=c.querySelector(".modal-call-content-form__button"),r=c.querySelectorAll(".modal-call-content-form__input"),l=document.querySelector(".modal-call-content-form-text_success");modal(c,e,o),modal(c,t,o);let d=!0,n=!0;const s=e=>{e.forEach(e=>{e.style.borderColor="rgba(144,156,181,.5)",document.querySelector(".modal-call-content-form__error").classList.add("hide"),"name"===e.name?(e.addEventListener("click",()=>{e.style.borderColor="rgba(144,156,181,.5)"}),(e=>{e.value.trim().length<=1&&(e.style.borderColor="#f53b49",d=!1)})(e)):"phone"===e.name&&(e.addEventListener("click",()=>{e.style.borderColor="rgba(144,156,181,.5)",document.querySelector(".modal-call-content-form__error").classList.add("hide")}),(e=>{/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e.value)||(e.style.borderColor="#f53b49",document.querySelector(".modal-call-content-form__error").classList.remove("hide"),n=!1)})(e))})};a.addEventListener("click",e=>{e.preventDefault(),s(r),d&&n&&(r.forEach(e=>e.value=""),l.classList.remove("hide"),setTimeout(()=>{c.classList.remove("modal_active"),l.classList.add("hide")},5e3)),d=!0,n=!0})};callback();const catalog=()=>{const e=document.querySelector(".header-navigation-catalog__button"),t=document.querySelector(".catalog"),c=document.querySelector("body"),o=document.querySelector(".search");e.addEventListener("click",()=>{o.classList.add("hide"),t.classList.toggle("hide")}),c.addEventListener("click",e=>{e.target.className.includes("catalog")||t.classList.add("hide")})};catalog();const search=()=>{const e=document.querySelector(".header-navigation-catalog-search"),t=document.querySelector(".search"),c=t.querySelector(".search-form-button"),o=document.querySelector("body"),a=document.querySelector(".catalog");e.addEventListener("click",()=>{a.classList.add("hide"),t.classList.remove("hide")}),c.addEventListener("click",()=>{t.classList.add("hide")}),o.addEventListener("click",e=>{"svg"!==e.target.tagName&&"path"!==e.target.tagName&&(e.target.className.includes("search")||t.classList.add("hide"))})};search();const cart=()=>{const e=document.querySelector(".header-navigation-buttons-item_cart"),t=document.querySelector(".modal-cart"),c=document.querySelector("body");e.addEventListener("click",()=>{t.classList.toggle("hide")}),c.addEventListener("click",e=>{e.target.className.includes("cart")||t.classList.add("hide")})};cart();