const modal=(e,t,a)=>{t.forEach(t=>{t.addEventListener("click",()=>{e.classList.add("modal_active")})}),a.addEventListener("click",()=>{e.classList.remove("modal_active")}),e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&e.classList.remove("modal_active")})},chooseCity=()=>{const e=document.querySelectorAll(".city-btn"),t=document.querySelector(".modal-city"),a=t.querySelector(".modal-city-content-button"),c=t.querySelector(".modal-city-content-form-button"),o=t.querySelector(".modal-city-content-form__input"),s=document.querySelector(".header-city__item");modal(t,e,a),c.addEventListener("click",e=>{e.preventDefault(),o.value.trim()&&(s.textContent=o.value,t.classList.remove("modal_active"),o.value="")})};chooseCity();const phoneModal=()=>{const e=document.querySelector(".header-phone-choosen"),t=document.querySelector(".header-phone-open"),a=document.querySelectorAll(".header-phone-open__item");e.addEventListener("click",()=>{t.classList.remove("hide")}),a.forEach(a=>{a.addEventListener("click",()=>{console.log(),t.classList.add("hide"),e.querySelector(".header-phone-choosen__item").innerHTML=`<span class="header-phone-choosen__item_white">${a.children[0].dataset.phone}</span> ${a.children[1].dataset.city}`})})};phoneModal();const callback=()=>{const e=document.querySelectorAll(".callBack-btn"),t=document.querySelector(".modal-call"),a=t.querySelector(".modal-call-content-button"),c=t.querySelector(".modal-call-content-form__button"),o=t.querySelectorAll(".modal-call-content-form__input"),s=document.querySelector(".modal-call-content-form-text_success");modal(t,e,a);let l=!0,i=!0;const r=e=>{e.forEach(e=>{e.style.borderColor="rgba(144,156,181,.5)",document.querySelector(".modal-call-content-form__error").classList.add("hide"),"name"===e.name?(e.addEventListener("click",()=>{e.style.borderColor="rgba(144,156,181,.5)"}),(e=>{e.value.trim().length<=1&&(e.style.borderColor="#f53b49",l=!1)})(e)):"phone"===e.name&&(e.addEventListener("click",()=>{e.style.borderColor="rgba(144,156,181,.5)",document.querySelector(".modal-call-content-form__error").classList.add("hide")}),(e=>{/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e.value)||(e.style.borderColor="#f53b49",document.querySelector(".modal-call-content-form__error").classList.remove("hide"),i=!1)})(e))})};c.addEventListener("click",e=>{e.preventDefault(),r(o),l&&i&&(o.forEach(e=>e.value=""),s.classList.remove("hide"),setTimeout(()=>{t.classList.remove("modal_active"),s.classList.add("hide")},5e3)),l=!0,i=!0})};callback();const catalog=()=>{const e="hide",t=document.querySelector(".header-navigation-catalog__button"),a=document.querySelector(".modal-catalog"),c=(document.querySelector("body"),document.querySelector(".search")),o=a.querySelector(".modal-wrapper"),s=document.querySelectorAll(".header-menu-item"),l=document.querySelector(".modal-catalog-category-home"),i=document.querySelector(".modal-catalog-category-clubs"),r=document.querySelector(".modal-catalog-type__item_home"),d=document.querySelector(".modal-catalog-type__item_clubs");document.querySelector(".modal-catalog-category-name__item");t.addEventListener("click",()=>{c.classList.add(e),i.classList.add(e),l.classList.remove(e),a.classList.toggle("modal_active")}),s.forEach(t=>{t.addEventListener("click",t=>{"home"===t.target.dataset.category?(console.dir(t),i.classList.add(e),l.classList.remove(e),r.classList.add("catalog-type__item_active"),d.classList.remove("catalog-type__item_active")):"clubs"===t.target.dataset.category&&(l.classList.add(e),i.classList.remove(e),d.classList.add("catalog-type__item_active"),r.classList.remove("catalog-type__item_active")),a.classList.add("modal_active")})}),r.addEventListener("click",()=>{l.classList.remove(e),i.classList.add(e),r.classList.add("modal-catalog-type__item_active"),d.classList.remove("modal-catalog-type__item_active")}),d.addEventListener("click",()=>{i.classList.remove(e),l.classList.add(e),d.classList.add("modal-catalog-type__item_active"),r.classList.remove("modal-catalog-type__item_active")}),o.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&a.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{a.classList.contains("modal_active")&&pageYOffset>a.offsetHeight-50&&a.classList.remove("modal_active")})};catalog();const search=()=>{const e=document.querySelectorAll(".search-btn"),t=document.querySelector(".search"),a=t.querySelector(".search-form-button");e.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("modal_active")})}),a.addEventListener("click",()=>{t.classList.remove("modal_active")}),t.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&t.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{t.classList.contains("modal_active")&&pageYOffset>t.offsetHeight-50&&t.classList.remove("modal_active")})};search();const tabs=()=>{const e=document.querySelector(".header-navigation-buttons-item_cart"),t=document.querySelector(".header-navigation-buttons-item__img_cart"),a=document.querySelector(".modal-cart"),c=document.querySelector(".header-navigation-buttons-item_comparison"),o=document.querySelector(".header-navigation-buttons-item__img_comparison"),s=document.querySelector(".modal-comparison"),l=document.querySelector(".header-navigation-buttons-item_favorite"),i=document.querySelector(".header-navigation-buttons-item__img_favorite"),r=document.querySelector(".modal-favorite");e.addEventListener("click",()=>{t.classList.toggle("header-navigation-buttons-item__img_active"),a.classList.toggle("modal_active")}),c.addEventListener("click",()=>{o.classList.toggle("header-navigation-buttons-item__img_active"),s.classList.toggle("modal_active")}),l.addEventListener("click",()=>{i.classList.toggle("header-navigation-buttons-item__img_active"),r.classList.toggle("modal_active")});((...e)=>{e.forEach(e=>{e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&(e.classList.remove("modal_active"),document.querySelectorAll(".header-navigation-buttons-item__img_active").forEach(e=>{e.classList.remove("header-navigation-buttons-item__img_active")}))})})})(r,a,s)};tabs();const cart=()=>{},comparison=()=>{},favorite=()=>{},menu=()=>{const e=document.querySelector(".header-top-menu"),t=document.querySelector(".menu"),a=t.querySelectorAll(".menu-close"),c=document.querySelector(".search"),o=t.querySelector("#home-catalog"),s=t.querySelector("#clubs-catalog"),l=t.querySelector(".menu-home"),i=t.querySelector(".menu-clubs"),r=t.querySelector(".menu-main"),d=t.querySelectorAll(".button-back");e.addEventListener("click",()=>{c.classList.contains("hide")||c.classList.add("hide"),r.classList.remove("hide"),t.classList.remove("hide")}),a.forEach(e=>{e.addEventListener("click",()=>{l.classList.contains("hide")||l.classList.add("hide"),i.classList.contains("hide")||i.classList.add("hide"),t.classList.add("hide")})}),o.addEventListener("click",()=>{r.classList.add("hide"),l.classList.remove("hide")}),s.addEventListener("click",()=>{r.classList.add("hide"),i.classList.remove("hide")}),d.forEach(e=>{e.addEventListener("click",()=>{"home"===e.dataset.back&&l.classList.add("hide"),"clubs"===e.dataset.back&&i.classList.add("hide"),r.classList.remove("hide")})})};menu();