const modal=(e,t,a)=>{t.forEach(t=>{t.addEventListener("click",()=>{e.classList.add("modal_active")})}),a.addEventListener("click",()=>{e.classList.remove("modal_active")}),e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&e.classList.remove("modal_active")})},chooseCity=()=>{const e=document.querySelectorAll(".city-btn"),t=document.querySelector(".modal-city"),a=t.querySelector(".modal-city-content-button"),o=t.querySelector(".modal-city-content-form-button"),c=t.querySelector(".modal-city-content-form__input"),s=document.querySelector(".header-city__item");modal(t,e,a),o.addEventListener("click",e=>{e.preventDefault(),c.value.trim()&&(s.textContent=c.value,t.classList.remove("modal_active"),c.value="")})};chooseCity();const phoneModal=()=>{const e=document.querySelector(".header-phone-choosen"),t=document.querySelector(".header-phone-open"),a=document.querySelectorAll(".header-phone-open__item");e.addEventListener("click",()=>{t.classList.remove("hide")}),a.forEach(a=>{a.addEventListener("click",()=>{console.log(),t.classList.add("hide"),e.querySelector(".header-phone-choosen__item").innerHTML=`<span class="header-phone-choosen__item_white">${a.children[0].dataset.phone}</span> ${a.children[1].dataset.city}`})})};phoneModal();const callRequest=()=>{const e="rgba(144,156,181,.5)",t=document.querySelectorAll(".callBack-btn"),a=document.querySelector(".modal-call"),o=a.querySelector(".modal-call-content-button"),c=a.querySelector(".modal-call-content-form__button"),s=a.querySelectorAll(".modal-call-content-form__input"),l=document.querySelector(".modal-call-content-form-text_success"),r=document.querySelector(".modal-call-content-form__error");modal(a,t,o);let i=!0,n=!0;const d=t=>{t.forEach(t=>{t.style.borderColor=e,r.classList.add("hide"),"name"===t.name?(t.addEventListener("click",()=>{t.style.borderColor=e}),(e=>{e.value.trim().length<=1&&(e.style.borderColor="#f53b49",i=!1)})(t)):"phone"===t.name&&(t.addEventListener("click",()=>{t.style.borderColor=e,r.classList.add("hide")}),(e=>{/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e.value)||(e.style.borderColor="#f53b49",r.classList.remove("hide"),n=!1)})(t))})};c.addEventListener("click",e=>{e.preventDefault(),d(s),i&&n&&(s.forEach(e=>e.value=""),l.classList.remove("hide"),setTimeout(()=>{a.classList.remove("modal_active"),l.classList.add("hide")},5e3)),i=!0,n=!0})};callRequest();const catalog=()=>{const e="hide",t=document.querySelector(".header-navigation-catalog__button"),a=document.querySelector(".modal-catalog"),o=(document.querySelector("body"),document.querySelector(".search")),c=a.querySelector(".modal-wrapper"),s=document.querySelectorAll(".header-menu-item"),l=document.querySelector(".modal-catalog-category-home"),r=document.querySelector(".modal-catalog-category-clubs"),i=document.querySelector(".modal-catalog-type__item_home"),n=document.querySelector(".modal-catalog-type__item_clubs");document.querySelector(".modal-catalog-category-name__item");t.addEventListener("click",()=>{o.classList.add(e),r.classList.add(e),l.classList.remove(e),a.classList.toggle("modal_active")}),s.forEach(t=>{t.addEventListener("click",t=>{"home"===t.target.dataset.category?(console.dir(t),r.classList.add(e),l.classList.remove(e),i.classList.add("catalog-type__item_active"),n.classList.remove("catalog-type__item_active")):"clubs"===t.target.dataset.category&&(l.classList.add(e),r.classList.remove(e),n.classList.add("catalog-type__item_active"),i.classList.remove("catalog-type__item_active")),a.classList.add("modal_active")})}),i.addEventListener("click",()=>{l.classList.remove(e),r.classList.add(e),i.classList.add("modal-catalog-type__item_active"),n.classList.remove("modal-catalog-type__item_active")}),n.addEventListener("click",()=>{r.classList.remove(e),l.classList.add(e),n.classList.add("modal-catalog-type__item_active"),i.classList.remove("modal-catalog-type__item_active")}),c.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&a.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{a.classList.contains("modal_active")&&pageYOffset>a.offsetHeight-50&&a.classList.remove("modal_active")})};catalog();const search=()=>{const e=document.querySelectorAll(".search-btn"),t=document.querySelector(".search"),a=t.querySelector(".search-form-button");e.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("modal_active")})}),a.addEventListener("click",()=>{t.classList.remove("modal_active")}),t.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&t.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{t.classList.contains("modal_active")&&pageYOffset>t.offsetHeight-50&&t.classList.remove("modal_active")})};search();const tabs=()=>{const e=document.querySelector(".header-navigation-buttons-item_cart"),t=document.querySelector(".header-navigation-buttons-item__img_cart"),a=document.querySelector(".modal-cart"),o=document.querySelector(".header-navigation-buttons-item_comparison"),c=document.querySelector(".header-navigation-buttons-item__img_comparison"),s=document.querySelector(".modal-comparison"),l=document.querySelector(".header-navigation-buttons-item_favorite"),r=document.querySelector(".header-navigation-buttons-item__img_favorite"),i=document.querySelector(".modal-favorite");e.addEventListener("click",()=>{t.classList.toggle("header-navigation-buttons-item__img_active"),a.classList.toggle("modal_active")}),o.addEventListener("click",()=>{c.classList.toggle("header-navigation-buttons-item__img_active"),s.classList.toggle("modal_active")}),l.addEventListener("click",()=>{r.classList.toggle("header-navigation-buttons-item__img_active"),i.classList.toggle("modal_active")});((...e)=>{e.forEach(e=>{e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&(e.classList.remove("modal_active"),document.querySelectorAll(".header-navigation-buttons-item__img_active").forEach(e=>{e.classList.remove("header-navigation-buttons-item__img_active")}))})})})(i,a,s)};tabs();const cart=()=>{},comparison=()=>{},favorite=()=>{},menu=()=>{const e="hide",t=document.querySelector(".header-top-menu"),a=document.querySelector(".menu"),o=a.querySelectorAll(".menu-close"),c=document.querySelector(".search"),s=a.querySelector("#home-catalog"),l=a.querySelector("#clubs-catalog"),r=a.querySelector(".menu-home"),i=a.querySelector(".menu-clubs"),n=a.querySelector(".menu-main"),d=a.querySelectorAll(".button-back");t.addEventListener("click",()=>{c.classList.contains(e)||c.classList.add(e),n.classList.remove(e),a.classList.remove(e)}),o.forEach(t=>{t.addEventListener("click",()=>{r.classList.contains(e)||r.classList.add(e),i.classList.contains(e)||i.classList.add(e),a.classList.add(e)})}),s.addEventListener("click",()=>{n.classList.add(e),r.classList.remove(e)}),l.addEventListener("click",()=>{n.classList.add(e),i.classList.remove(e)}),d.forEach(t=>{t.addEventListener("click",()=>{"home"===t.dataset.back&&r.classList.add(e),"clubs"===t.dataset.back&&i.classList.add(e),n.classList.remove(e)})})};menu();const sign=()=>{const e="#f53b49",t="rgba(144,156,181,.3)",a="hide",o=document.querySelectorAll(".sign-block__button"),c=document.querySelector(".sign"),s=c.querySelector(".modal-button"),l=c.querySelector(".sign-in"),r=c.querySelector(".sign-form__button_signin"),i=c.querySelector(".sign-form__button_password"),n=c.querySelector(".restore-password"),d=c.querySelector(".sign-form__button_restore"),m=c.querySelector(".sign-form__input[type='password']"),u=c.querySelector(".sign-form__input[type='email']"),v=c.querySelector(".sign-form__input_restore"),_=c.querySelector(".sign-form__button_show-pswd"),L=c.querySelector(".sign__error");modal(c,o,s);o.forEach(e=>{e.addEventListener("click",()=>{((...e)=>{e.forEach(e=>{e.value="",e.style.borderColor=t})})(u,v,m),L.classList.add(a),l.classList.contains(a)&&(l.classList.remove(a),n.classList.add(a))})}),i.addEventListener("click",e=>{e.preventDefault(),n.classList.remove(a),l.classList.add(a)});const y=e=>/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(String(e).toLowerCase());r.addEventListener("click",t=>{t.preventDefault(),y(u.value)||(u.style.borderColor=e),(e=>/^\D.*$/.test(e)&&/^[^-() /]*$/.test(e)&&/^.*[a-zA-Z]+.*$/.test(e)&&/^[\S]$/)(m.value)||(m.style.borderColor=e),L.classList.remove(a)}),d.addEventListener("click",t=>{t.preventDefault(),y(v.value)||(v.style.borderColor=e),L.classList.remove(a)}),m.addEventListener("click",()=>m.style.borderColor=t),u.addEventListener("click",()=>u.style.borderColor=t),v.addEventListener("click",()=>v.style.borderColor=t),_.addEventListener("click",e=>{var t;e.preventDefault(),"password"===(t=m).type?t.type="text":t.type="password"})};sign();