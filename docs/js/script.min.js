const modal=(e,t,a)=>{t.forEach(t=>{t.addEventListener("click",()=>{e.classList.add("modal_active")})}),a.addEventListener("click",()=>{e.classList.remove("modal_active")}),e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&e.classList.remove("modal_active")})},chooseCity=()=>{const e=document.querySelectorAll(".city-btn"),t=document.querySelector(".modal-city"),a=t.querySelector(".modal-city-content-button"),c=t.querySelector(".modal-city-content-form-button"),s=t.querySelector(".modal-city-content-form__input"),o=document.querySelector(".header-city__item");modal(t,e,a),c.addEventListener("click",e=>{e.preventDefault(),s.value.trim()&&(o.textContent=s.value,t.classList.remove("modal_active"),s.value="")})};chooseCity();const phoneModal=()=>{const e=document.querySelector(".header-phone-choosen"),t=document.querySelector(".header-phone-open"),a=document.querySelectorAll(".header-phone-open__item");e.addEventListener("click",()=>{t.classList.remove("hide")}),a.forEach(a=>{a.addEventListener("click",()=>{console.log(),t.classList.add("hide"),e.querySelector(".header-phone-choosen__item").innerHTML=`<span class="header-phone-choosen__item_white">${a.children[0].dataset.phone}</span> ${a.children[1].dataset.city}`})})};phoneModal();const callRequest=()=>{const e="rgba(144,156,181,.5)",t=document.querySelectorAll(".callBack-btn"),a=document.querySelector(".modal-call"),c=a.querySelector(".modal-call-content-button"),s=a.querySelector(".modal-call-content-form__button"),o=a.querySelectorAll(".modal-call-content-form__input"),r=document.querySelector(".modal-call-content-form-text_success"),l=document.querySelector(".modal-call-content-form__error");modal(a,t,c);let i=!0,n=!0;const d=t=>{t.forEach(t=>{t.style.borderColor=e,l.classList.add("hide"),"name"===t.name?(t.addEventListener("click",()=>{t.style.borderColor=e}),(e=>{e.value.trim().length<=1&&(e.style.borderColor="#f53b49",i=!1)})(t)):"phone"===t.name&&(t.addEventListener("click",()=>{t.style.borderColor=e,l.classList.add("hide")}),(e=>{/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e.value)||(e.style.borderColor="#f53b49",l.classList.remove("hide"),n=!1)})(t))})};s.addEventListener("click",e=>{e.preventDefault(),d(o),i&&n&&(o.forEach(e=>e.value=""),r.classList.remove("hide"),setTimeout(()=>{a.classList.remove("modal_active"),r.classList.add("hide")},5e3)),i=!0,n=!0})};callRequest();const catalog=()=>{const e="hide",t=document.querySelector(".header-navigation-catalog__button"),a=document.querySelector(".modal-catalog"),c=(document.querySelector("body"),document.querySelector(".search")),s=a.querySelector(".modal-wrapper"),o=document.querySelectorAll(".header-menu-item"),r=document.querySelector(".modal-catalog-category-home"),l=document.querySelector(".modal-catalog-category-clubs"),i=document.querySelector(".modal-catalog-type__item_home"),n=document.querySelector(".modal-catalog-type__item_clubs");document.querySelector(".modal-catalog-category-name__item");t.addEventListener("click",()=>{c.classList.add(e),l.classList.add(e),r.classList.remove(e),a.classList.toggle("modal_active")}),o.forEach(t=>{t.addEventListener("click",t=>{"home"===t.target.dataset.category?(console.dir(t),l.classList.add(e),r.classList.remove(e),i.classList.add("catalog-type__item_active"),n.classList.remove("catalog-type__item_active")):"clubs"===t.target.dataset.category&&(r.classList.add(e),l.classList.remove(e),n.classList.add("catalog-type__item_active"),i.classList.remove("catalog-type__item_active")),a.classList.add("modal_active")})}),i.addEventListener("click",()=>{r.classList.remove(e),l.classList.add(e),i.classList.add("modal-catalog-type__item_active"),n.classList.remove("modal-catalog-type__item_active")}),n.addEventListener("click",()=>{l.classList.remove(e),r.classList.add(e),n.classList.add("modal-catalog-type__item_active"),i.classList.remove("modal-catalog-type__item_active")}),s.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&a.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{a.classList.contains("modal_active")&&pageYOffset>a.offsetHeight-50&&a.classList.remove("modal_active")})};catalog();const search=()=>{const e=document.querySelectorAll(".search-btn"),t=document.querySelector(".search"),a=t.querySelector(".search-form-button");e.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("modal_active")})}),a.addEventListener("click",()=>{t.classList.remove("modal_active")}),t.addEventListener("click",e=>{(e.target.classList.contains("modal_active")||e.target.classList.contains("modal-wrapper"))&&t.classList.remove("modal_active")}),window.addEventListener("scroll",()=>{t.classList.contains("modal_active")&&pageYOffset>t.offsetHeight-50&&t.classList.remove("modal_active")})};search();const tabs=()=>{const e=document.querySelector(".header-navigation-buttons-item_cart"),t=document.querySelector(".header-navigation-buttons-item__img_cart"),a=document.querySelector(".modal-cart"),c=document.querySelector(".header-navigation-buttons-item_comparison"),s=document.querySelector(".header-navigation-buttons-item__img_comparison"),o=document.querySelector(".modal-comparison"),r=document.querySelector(".header-navigation-buttons-item_favorite"),l=document.querySelector(".header-navigation-buttons-item__img_favorite"),i=document.querySelector(".modal-favorite");e.addEventListener("click",()=>{t.classList.toggle("header-navigation-buttons-item__img_active"),a.classList.toggle("modal_active")}),c.addEventListener("click",()=>{s.classList.toggle("header-navigation-buttons-item__img_active"),o.classList.toggle("modal_active")}),r.addEventListener("click",()=>{l.classList.toggle("header-navigation-buttons-item__img_active"),i.classList.toggle("modal_active")});((...e)=>{e.forEach(e=>{e.addEventListener("click",t=>{(t.target.classList.contains("modal_active")||t.target.classList.contains("modal-wrapper"))&&(e.classList.remove("modal_active"),document.querySelectorAll(".header-navigation-buttons-item__img_active").forEach(e=>{e.classList.remove("header-navigation-buttons-item__img_active")}))})})})(i,a,o)};tabs();const cart=()=>{},comparison=()=>{},favorite=()=>{},menu=()=>{const e="hide",t=document.querySelector(".header-top-menu"),a=document.querySelector(".menu"),c=a.querySelectorAll(".menu-close"),s=document.querySelector(".search"),o=a.querySelector("#home-catalog"),r=a.querySelector("#clubs-catalog"),l=a.querySelector(".menu-home"),i=a.querySelector(".menu-clubs"),n=a.querySelector(".menu-main"),d=a.querySelectorAll(".button-back");t.addEventListener("click",()=>{s.classList.contains(e)||s.classList.add(e),n.classList.remove(e),a.classList.remove(e)}),c.forEach(t=>{t.addEventListener("click",()=>{l.classList.contains(e)||l.classList.add(e),i.classList.contains(e)||i.classList.add(e),a.classList.add(e)})}),o.addEventListener("click",()=>{n.classList.add(e),l.classList.remove(e)}),r.addEventListener("click",()=>{n.classList.add(e),i.classList.remove(e)}),d.forEach(t=>{t.addEventListener("click",()=>{"home"===t.dataset.back&&l.classList.add(e),"clubs"===t.dataset.back&&i.classList.add(e),n.classList.remove(e)})})};menu();const sign=()=>{const e="#f53b49",t="rgba(144,156,181,.3)",a="hide",c=document.querySelectorAll(".sign-block__button"),s=document.querySelector(".sign"),o=s.querySelector(".modal-button"),r=s.querySelector(".sign-in"),l=s.querySelector(".sign-form__button_signin"),i=s.querySelector(".sign-form__button_password"),n=s.querySelector(".restore-password"),d=s.querySelector(".sign-form__button_restore"),m=s.querySelector(".sign-form__input[type='password']"),u=s.querySelector(".sign-form__input[type='email']"),_=s.querySelector(".sign-form__input_restore"),v=s.querySelector(".sign-form__button_show-pswd"),g=s.querySelector(".sign__error");modal(s,c,o);c.forEach(e=>{e.addEventListener("click",()=>{((...e)=>{e.forEach(e=>{e.value="",e.style.borderColor=t})})(u,_,m),g.classList.add(a),r.classList.contains(a)&&(r.classList.remove(a),n.classList.add(a))})}),i.addEventListener("click",e=>{e.preventDefault(),n.classList.remove(a),r.classList.add(a)});const y=e=>/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(String(e).toLowerCase());l.addEventListener("click",t=>{t.preventDefault(),y(u.value)||(u.style.borderColor=e),(e=>/^\D.*$/.test(e)&&/^[^-() /]*$/.test(e)&&/^.*[a-zA-Z]+.*$/.test(e)&&/^[\S]$/)(m.value)||(m.style.borderColor=e),g.classList.remove(a)}),d.addEventListener("click",t=>{t.preventDefault(),y(_.value)||(_.style.borderColor=e),g.classList.remove(a)}),m.addEventListener("click",()=>m.style.borderColor=t),u.addEventListener("click",()=>u.style.borderColor=t),_.addEventListener("click",()=>_.style.borderColor=t),v.addEventListener("click",e=>{var t;e.preventDefault(),"password"===(t=m).type?t.type="text":t.type="password"})};sign();const sliderBanner=()=>{const e=document.querySelectorAll(".banner-content"),t=document.querySelector(".banner-wrapper"),a=document.querySelector(".banner-buttons__item_prev"),c=document.querySelector(".banner-buttons__item_next"),s=document.querySelector(".banner-pagination"),o=document.querySelectorAll(".banner-pagination__item");let r,l=0;const i=e=>{t.style.transform=`translate(-${e*r}px)`},n=()=>{r=document.querySelector(".banner-container").offsetWidth,t.style.width=r*e.length+"px",e.forEach(e=>{e.style.maxWidth="1800px",e.style.width=r+"px"})};n();const d=()=>{o.forEach(e=>{e.id==l?e.classList.add("banner-pagination__item_active"):e.classList.remove("banner-pagination__item_active")})};window.addEventListener("resize",()=>{n()});const m=setInterval(()=>{l++,l>=e.length&&(l=0),d(),i(l)},5e3);c.addEventListener("click",()=>{clearInterval(m),l++,l>=e.length&&(l=0),i(l)}),a.addEventListener("click",()=>{clearInterval(m),l--,l<0&&(l=e.length-1),i(l)}),e.forEach(e=>{e.addEventListener("click",()=>clearInterval(m))});let u=null,_=null;t.addEventListener("touchstart",e=>{const t=e.touches[0];u=t.clientX,_=t.clientY},!1),t.addEventListener("touchmove",t=>{if(!u||!_)return!1;let a=t.touches[0].clientX,c=t.touches[0].clientY,s=a-u,o=c-_;Math.abs(s)>Math.abs(o)&&(clearInterval(m),s>0?(l--,l<=0&&(l=0)):(l++,l>=e.length&&(l=0)),d(),i(l)),u=null,_=null},!1),s.addEventListener("click",e=>{e.target.classList.contains("banner-pagination__item")&&(o.forEach(t=>{e.target.id==t.id?(l=t.id,t.classList.add("banner-pagination__item_active")):t.classList.remove("banner-pagination__item_active")}),i(l))})};sliderBanner();const home=()=>{const e=document.querySelector(".home-cards");fetch("https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/category/home.json").then(e=>e.json()).then(t=>(t=>{t.forEach(t=>{const{id:a,title:c,href:s,img:o}=t,r=document.createElement("div");r.setAttribute("data-href",s),r.classList.add("home-cards__item","category-card"),r.innerHTML=`<h3 class="category-card__heading">${c}</h3>\n      <img src="./images/db/${o}" alt="${c}" class="category-card__img"/>`,r.addEventListener("click",()=>{window.location.href=r.dataset.href}),e.append(r)});document.querySelectorAll(".home-cards__item").forEach((e,t)=>{0!==t&&1!==t||(e.classList.add("category-card_hight"),e.querySelector(".category-card__img").classList.add("category-card__img_height")),0===t&&(e.classList.add("category-card_dark"),e.classList.add("home-cards__item_one"),e.querySelector(".category-card__heading").classList.add("category-card__heading_white")),1===t&&(e.classList.add("home-cards__item_two"),e.querySelector(".category-card__heading").classList.add("category-card__heading_gray"))})})(t))};home();const clubs=()=>{const e=document.querySelector(".clubs-cards");fetch("https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/category/club.json").then(e=>e.json()).then(t=>(t=>{t.forEach(t=>{const{id:a,title:c,href:s,img:o}=t,r=document.createElement("div");r.classList.add("clubs-cards__item","category-card"),r.setAttribute("data-href",s),r.innerHTML=`<h3 class="category-card__heading">${c}</h3>\n      <img src="./images/db/${o}" alt="${c}" class="category-card__img"/>`,r.addEventListener("click",()=>{window.location.href=r.dataset.href}),e.append(r)});document.querySelectorAll(".clubs-cards__item").forEach((e,t)=>{0===t&&(e.classList.add("category-card_wide","clubs-cards__item_one","category-card_dark"),e.querySelector(".category-card__img").classList.add("category-card__img_wide"),e.querySelector(".category-card__heading").classList.add("category-card__heading_white")),0!==t&&(e.classList.add("category-card_square"),e.querySelector(".category-card__img").classList.add("category-card__img_square")),e.querySelector("h3").classList.add("category-card__heading_wide")})})(t))};clubs();const brands=()=>{const e=document.querySelector(".brands-cards"),t=document.querySelectorAll(".brands-buttons__item");let a="treadmill";const c=t=>{fetch(`https://wellfitness-a4db3-default-rtdb.europe-west1.firebasedatabase.app/db/brands/${t}.json`).then(e=>e.json()).then(t=>{t.forEach(t=>{const{id:a,name:c,img:s,href:o}=t,r=document.createElement("div");r.classList.add("brands-cards-item"),r.setAttribute("data-href",o),r.innerHTML=`  <img src="./images/db/${s}" alt="${c}" class="brands-cards-item__img" />`,r.addEventListener("click",()=>{window.location.href=r.dataset.href}),e.append(r)})})};t.forEach((s,o)=>{s.addEventListener("click",()=>{t.forEach(e=>{e.classList.remove("brands-buttons__item_active")}),e.innerHTML="",s.classList.add("brands-buttons__item_active"),a=s.dataset.brand,c(a)})})};brands();